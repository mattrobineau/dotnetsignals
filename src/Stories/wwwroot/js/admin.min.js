!function(n,a,e){"use strict";function s(a){return n.ajax({url:n("#create-user").data("url"),type:"POST",dataType:"json",data:a})}function i(a){return n.ajax({url:n("#banuser").data("url"),type:"POST",dataType:"json",data:a})}function r(a){var e=n("div#error");if(e.find(".error").remove(),!a||a.length<=0)return void(e.hasClass("hidden")||e.addClass("hidden"));e.hasClass("hidden")&&e.removeClass("hidden");for(var s=0;s<a.length;s++)e.append(n("<div></div>").addClass("error").append(n("<span></span>").text(a[s])))}n(function(){n("#create-user").on("click","div.actions button.submit",function(){var a=n(this),e=a.closest("#create-user"),i={Username:e.find("input.username").val(),Email:e.find("input.email").val(),Password:e.find("input.password").val(),ConfirmPassword:e.find("input.confirmPassword").val(),Roles:[]};return e.find("input.select-role:checked").each(function(a,e){var s=n(e);i.Roles.push(s.val())}),s(i).done(function(n){if(!1===n.status)return r(n.messages),!1;r(),e.find("input.username").val(""),e.find("input.email").val(""),e.find("input.password").val(""),e.find("input.confirmPassword").val("")}),!1}),n("#banuser").on("click","div.actions button.submit",function(){var a=n(this).closest("#banuser");i({UserId:a.data("uid"),ExpiryDate:a.find("#expiry").val(),Reason:a.find("#reason").val(),Notes:a.find("#notes").val()}).done(function(a){if(n("div#error"),!1===a.status)return r(a.messages),!1;r()})})})}(window.jQuery,window,document);