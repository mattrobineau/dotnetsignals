!function(n,e,a){function r(e){return n.ajax({url:n("#create-user").data("url"),type:"POST",dataType:"json",data:e})}function s(e){return n.ajax({url:n("#banuser").data("url"),type:"POST",dataType:"json",data:e})}function t(e){var a=n("div#error");if(!e||e.length<=0)return a.hasClass("hidden")||a.addClass("hidden"),void a.find(".error").remove();a.hasClass("hidden")&&a.removeClass("hidden");for(var r=0;r<e.length;r++)a.append("<div></div>").addClass("error").text(e[r])}n(function(){n("#create-user").on("click","div.actions button.submit",function(){var e=n(this),a=e.closest("#create-user"),s={Username:a.find("input.username").val(),Email:a.find("input.email").val(),Password:a.find("input.password").val(),ConfirmPassword:a.find("input.confirmPassword").val(),Roles:[]};return a.find("input.select-role:checked").each(function(e,a){var r=n(a);s.Roles.push(r.val())}),r(s).done(function(n){if(!1===n.status)return t(n.Messages),!1;t()}),!1}),n("#banuser").on("click","div.actions button.submit",function(){var e=n(this).closest("#banuser"),a={UserId:e.data("uid"),ExpiryDate:e.find("#expiry").val(),Reason:e.find("#reason").val(),Notes:e.find("#notes").val()};s(a).done(function(){n("div#error");if(!1===a.status)return t(a.Messages),!1;t()})})})}(window.jQuery,window,document);